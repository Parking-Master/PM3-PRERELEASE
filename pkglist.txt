{
  "1.0.0": {},
  "1.1.0": {
    "update": true,
    "description": "Fixed urgent bugs, updated for pre beta-release",
    "version": "2.1.0",
    "filesToEdit": true,
    "filesToAdd": false,
    "urgent": true,
    "editedFiles": ["main.js"],
    "addedFiles": [],
    "editSummary": {
      "main.js": "Y29uc3QgeyBOb3RpZmljYXRpb24sIEJyb3dzZXJXaW5kb3csIGFwcCwgTWVudSwgc2hlbGwsIGRpYWxvZyB9ID0gcmVxdWlyZSgiZWxlY3Ryb24iKTsNCmNvbnN0IGJ0b2EgPSByZXF1aXJlKCJidG9hIik7DQpjb25zdCBwYXRoID0gcmVxdWlyZSgicGF0aCIpOw0KY29uc3Qgcm9vdFBhdGggPSByZXF1aXJlKCJlbGVjdHJvbi1yb290LXBhdGgiKS5yb290UGF0aDsNCmNvbnN0IGxvY2F0aW9uID0gcGF0aC5qb2luKHJvb3RQYXRoLCAicGFja2FnZS5qc29uIik7DQpjb25zdCBmcyA9IHJlcXVpcmUoImZzIik7DQpjb25zdCBuYXRpdmVUaGVtZSA9IHJlcXVpcmUoImVsZWN0cm9uIikubmF0aXZlVGhlbWU7DQpjb25zdCB7IG1vdmVUb0FwcGxpY2F0aW9ucyB9ID0gcmVxdWlyZSgiZWxlY3Ryb24tbGV0cy1tb3ZlIik7DQpjb25zdCB7IHVzZXJJbmZvIH0gPSByZXF1aXJlKCJvcyIpOw0KY29uc3QgZXhlYyA9IHJlcXVpcmUoImNoaWxkX3Byb2Nlc3MiKS5leGVjOw0KY29uc3QgaHR0cCA9IHJlcXVpcmUoImh0dHBzIik7DQpjb25zdCBhdG9iID0gcmVxdWlyZSgiYXRvYiIpOw0KY29uc3QgU2VuZGVyID0gcmVxdWlyZSgiZWxlY3Ryb24tc2VuZGVyIik7DQpjb25zdCBBY2N1cml6ZXIgPSByZXF1aXJlKCJhY2N1cml6ZXIiKTsNCmNvbnN0IGxvY2FsU3RvcmFnZSA9IG5ldyAocmVxdWlyZSgibm9kZS1sb2NhbHN0b3JhZ2UiKS5Mb2NhbFN0b3JhZ2UpKCIuL3N0b3JhZ2UiKTsNCg0KaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidmVyc2lvbiIpKSB7DQogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ2ZXJzaW9uIiwgIjEuMC4wIik7DQp9DQoNCmxldCBhcHBWZXJzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInZlcnNpb24iKSB8fCAiMS4wLjAiOw0KDQoNCmxldCB1cGRhdGVJbmZvID0ge307DQoNCmxldCByZXF1ZXN0ID0gaHR0cC5yZXF1ZXN0KHsNCiAgaG9zdDogInBhcmtpbmdtYXN0ZXIubWwiLA0KICBwYXRoOiAiL3BrZ2xpc3QudHh0Ig0KfSwgZnVuY3Rpb24ocmVzKSB7DQogIGxldCBkYXRhID0gIiI7DQogIHJlcy5vbigiZGF0YSIsIGZ1bmN0aW9uKGNodW5rKSB7DQogICAgZGF0YSArPSBjaHVuazsNCiAgfSk7DQogIHJlcy5vbigiZW5kIiwgZnVuY3Rpb24oKSB7DQogICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7DQogICAgbGV0IG5leHRWZXJzaW9uID0gT2JqZWN0LmtleXMoZGF0YSlbT2JqZWN0LmtleXMoZGF0YSkuaW5kZXhPZihhcHBWZXJzaW9uKSArIDFdOw0KICAgIGNvbnNvbGUubG9nKG5leHRWZXJzaW9uLCBhcHBWZXJzaW9uKQ0KICAgIGlmICghIW5leHRWZXJzaW9uKSByZXR1cm4gdXBkYXRlSW5mbyA9IGRhdGFbbmV4dFZlcnNpb25dOw0KICAgIHVwZGF0ZUluZm8gPSBkYXRhW2FwcFZlcnNpb25dOw0KICB9KTsNCn0pOw0KDQpyZXF1ZXN0Lm9uKCJlcnJvciIsIGZ1bmN0aW9uKGUpIHsNCiAgY29uc29sZS5sb2coZS5tZXNzYWdlKTsNCn0pOw0KDQpyZXF1ZXN0LmVuZCgpOw0KbmF0aXZlVGhlbWUudGhlbWVTb3VyY2UgPSAibGlnaHQiOw0KDQpmdW5jdGlvbiBub3RpZnkodCwgbSwgdykgew0KICBzZXRUaW1lb3V0KCgpID0+IHcud2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQoYG5ldyBOb3RpZmljYXRpb24oIlBhcmtpbmcgTWFzdGVyIDIuMCBOb3RpZmllciIsIHsgYm9keTogIiR7bX0iIH0pO2ApLCAxMDAwKTsNCn0NCg0KZnVuY3Rpb24gYWxlcnQodGl0bGUgPSAiIiwgdGV4dCA9ICIiLCBidXR0b25zID0gW10pIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgew0KICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSgvXCIvZ2ksIGBcXCJgKTsNCiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cIi9naSwgYFxcImApOw0KICAgIG1haW5XaW5kb3cud2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQoYA0KICAgIHN3YWxXaXRoUmV0dXJuKHsNCiAgICAgIHRpdGxlOiAiJHt0aXRsZX0iLA0KICAgICAgdGV4dDogIiR7dGV4dH0iLA0KICAgICAgJHtidXR0b25zLmxlbmd0aCA8IDEgPyAiYnV0dG9uOiBmYWxzZSIgOiBidXR0b25zLmxlbmd0aCA8IDIgPyBgYnV0dG9uOiAiJHtidXR0b25zWzBdfSJgIDogYGJ1dHRvbnM6IFsiJHtidXR0b25zWzBdfSIsICIke2J1dHRvbnNbMV19Il1gfQ0KICAgIH0pOw0KICAgIGApOw0KICAgIFNlbmRlci5yZWNlaXZlKG1haW5XaW5kb3csICJhbGVydE91dHB1dCIsIChlKSA9PiB7DQogICAgICBpZiAoYnV0dG9ucy5sZW5ndGggPCAyKSBlID0gInRydWUiOw0KICAgICAgZSA9IEpTT04ucGFyc2UoZSk7DQogICAgICBpZiAoZSkgcmVzb2x2ZSgpOw0KICAgICAgaWYgKCFlKSByZWplY3QoKTsNCiAgICB9KTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGluaXQoKSB7DQogIHNldEludGVydmFsKCgpID0+IHsNCiAgICBtYWluV2luZG93LndlYkNvbnRlbnRzLmV4ZWN1dGVKYXZhU2NyaXB0KGANCiAgICBmdW5jdGlvbiBzd2FsV2l0aFJldHVybigpIHsNCiAgICAgIHN3YWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS50aGVuKChlKSA9PiB7DQogICAgICAgIGlmIChlKSByZXR1cm4gU2VuZGVyLnNlbmQoImFsZXJ0T3V0cHV0IiwgW3RydWVdKTsNCiAgICAgICAgaWYgKCFlKSByZXR1cm4gU2VuZGVyLnNlbmQoImFsZXJ0T3V0cHV0IiwgW2ZhbHNlXSk7DQogICAgICB9KTsNCiAgICB9DQogICAgYCk7DQogIH0sIDIwMCk7DQogIC8vIEdldCB1cGRhdGUgaW5mbw0KICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICBpZiAodXBkYXRlSW5mby51cGRhdGUgJiYgdXBkYXRlSW5mby52ZXJzaW9uICE9PSBhcHBWZXJzaW9uKSB7DQogICAgICBBY2N1cml6ZXIoIm11bHRpIiwgNSwgew0KICAgICAgICBmdW5jdGlvbnM6IFsibmV0d29yayIsICJkb3dubG9hZCJdLA0KICAgICAgICB1cmw6ICJodHRwczovL3BhcmtpbmdtYXN0ZXIubWwvcGtnbGlzdC50eHQiDQogICAgICB9KS50aGVuKHRpbWUgPT4gew0KICAgICAgICB0aW1lICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkpOw0KICAgICAgICBsZXQgc2l6ZSA9IHVwZGF0ZUluZm8uZmlsZXNUb0VkaXQgPyAoT2JqZWN0LnZhbHVlcyh1cGRhdGVJbmZvLmVkaXRTdW1tYXJ5KS5tYXAoeCA9PiB7IHJldHVybiB4Lmxlbmd0aCB9KS5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBhKSA9PiB7IHJldHVybiBhY2N1bXVsYXRvciArIGEgfSwgMCkgKyAxMDI0KSAvIDEwMjQgOiAodXBkYXRlSW5mby5maWxlc1RvQWRkID8gdXBkYXRlSW5mby5hZGRlZEZpbGVzLmxlbmd0aCAqIDEwMjQgOiAwKSAvIDEwMjQ7DQogICAgICAgIHNpemUgPSBzaXplLnRvRml4ZWQoMik7DQogICAgICAgIGFsZXJ0KCJOZXcgdXBkYXRlcyBhdmFpbGFibGUiLCAiXCIiICsgdXBkYXRlSW5mby5kZXNjcmlwdGlvbiArICJcIlxcblxcblVwZGF0ZSB2ZXJzaW9uOiAiICsgdXBkYXRlSW5mby52ZXJzaW9uICsgIlxcblVwZGF0ZSBzaXplOiAiICsgc2l6ZSArICJtYlxcblVwZGF0ZSB0aW1lOiAiICsgdGltZSArICJzXFxuXFxuV291bGQgeW91IGxpa2UgdG8gdXBkYXRlIG5vdz8iLCBbIk5vIiwgIlllcyJdKS50aGVuKCgpID0+IHsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIG1haW5XaW5kb3cud2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQoInN3YWwuY2xvc2UoKSIpOw0KICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInZlcnNpb24iLCB1cGRhdGVJbmZvLnZlcnNpb24pOw0KICAgICAgICAgICAgZGlhbG9nLnNob3dNZXNzYWdlQm94KG1haW5XaW5kb3csIHsNCiAgICAgICAgICAgICAgdGl0bGU6ICJBcHAgaXMgdXAgdG8gZGF0ZSIsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICJUaGUgYXBwbGljYXRpb24gd2lsbCBub3cgcmVzdGFydCBmb3IgdGhlIGNoYW5nZXMgdG8gdGFrZSBlZmZlY3QiLA0KICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgIGFwcC5yZWxhdW5jaCgpOw0KICAgICAgICAgICAgICBhcHAuZXhpdCgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSwgKHRpbWUgLSAwKSAqIDEwMDApOw0KICAgICAgICAgIGFsZXJ0KCJVcGRhdGluZy4uLiIsICJQbGVhc2Ugd2FpdCwgdGhpcyB3aWxsIG9ubHkgdGFrZSAiICsgdGltZS50b0ZpeGVkKDApICsgIiBzZWNvbmRzISIpOw0KICAgICAgICAgIGlmICh1cGRhdGVJbmZvLmZpbGVzVG9BZGQpIHsNCiAgICAgICAgICAgIHVwZGF0ZUluZm8uYWRkZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4gew0KICAgICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlKSkgcmV0dXJuOw0KICAgICAgICAgICAgICBsZXQgc3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZmlsZSk7DQogICAgICAgICAgICAgIHN0cmVhbS5lbmQoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodXBkYXRlSW5mby5maWxlc1RvRWRpdCkgew0KICAgICAgICAgICAgdXBkYXRlSW5mby5lZGl0ZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4gew0KICAgICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZmlsZSkpIHJldHVybjsNCiAgICAgICAgICAgICAgbGV0IGRhdGEgPSAoYXRvYih1cGRhdGVJbmZvLmVkaXRTdW1tYXJ5W2ZpbGVdKSk7DQogICAgICAgICAgICAgIHZhciB3cml0ZVN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGZpbGUpOw0KICAgICAgICAgICAgICB3cml0ZVN0cmVhbS53cml0ZShkYXRhKTsNCiAgICAgICAgICAgICAgd3JpdGVTdHJlYW0uZW5kKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfQ0KICB9LCAzMDAwKTsNCiAgY29uc3QgZG9ja01lbnUgPSBNZW51LmJ1aWxkRnJvbVRlbXBsYXRlKFt7DQogICAgbGFiZWw6ICJOZXcgV2luZG93IiwNCiAgICBjbGljaygpIHsgaW5pdCgpIH0NCiAgfSwgew0KICAgICAgbGFiZWw6ICJOZXcgV2luZG93IHdpdGggU2V0dGluZ3MiLA0KICAgICAgc3VibWVudTogWw0KICAgICAgICB7IGxhYmVsOiAiQmFzaWMiIH0sDQogICAgICAgIHsgbGFiZWw6ICJQcm8iIH0NCiAgICAgIF0NCiAgICB9LA0KICAgIHsgbGFiZWw6ICJOZXcgQ29tbWFuZC4uLiIgfQ0KICBdKTsNCiAgYXBwLmRvY2suc2V0TWVudShkb2NrTWVudSk7DQogIG1haW5XaW5kb3cgPSBuZXcgQnJvd3NlcldpbmRvdyh7DQogICAgc2hvdzogZmFsc2UsDQogICAgd2lkdGg6IDEyODAsDQogICAgaGVpZ2h0OiA4MDAsDQogICAgaGFzU2hhZG93OiBmYWxzZSwNCiAgICBpY29uOiBfX2Rpcm5hbWUgKyAiL2ljb24uaWNucyIsDQogICAgY2VudGVyOiB0cnVlDQogIH0pOw0KICBTZW5kZXIuYXBwZW5kKG1haW5XaW5kb3cpOw0KICBtYWluV2luZG93LmxvYWRGaWxlKCJibGFuayIpOw0KICBmcy5leGlzdHNTeW5jKCIvVXNlcnMvIiArIHVzZXJJbmZvKCkudXNlcm5hbWUgKyAiL0FwcGxpY2F0aW9ucy9QYXJraW5nIE1hc3RlciAyLjAuYXBwIikgfHwgbW92ZVRvQXBwbGljYXRpb25zKGZ1bmN0aW9uKGVyciwgbW92ZWQpIHsNCiAgICBpZiAoZXJyKSB7DQogICAgICBub3RpZnkoIiIsIGVyciwgbWFpbldpbmRvdyk7DQogICAgfQ0KICAgIGlmICghbW92ZWQpIHsNCiAgICAgIG5vdGlmeSgiIiwgbW92ZWQsIG1haW5XaW5kb3cpOw0KICAgIH0NCiAgfSk7DQogIGxldCBjID0gMDsNCiAgbGV0IHByb2dyZXNzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgZGlhbG9nLnNob3dNZXNzYWdlQm94KHsNCiAgICAgIHR5cGU6ICJwcm9ncmVzcyINCiAgICB9KQ0KICB9LCAxMDApOw0KICBsZXQgY2xvc2VldnQgPSAoZXZlbnQpID0+IHsNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOzsNCiAgICBsZXQgb3BhYyA9IDEuMDsNCiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICBpZiAob3BhYyA8PSAwLjApIHsNCiAgICAgICAgcmV0dXJuIGZvcmNlUXVpdCgpOw0KICAgICAgfQ0KICAgICAgb3BhYyAtPSAuMTsNCiAgICAgIG1haW5XaW5kb3cuc2V0T3BhY2l0eShvcGFjKTsNCiAgICB9LCAxKTsNCiAgfQ0KICBmdW5jdGlvbiBmb3JjZVF1aXQoKSB7DQogICAgY2xvc2VldnQgPSB1bmRlZmluZWQ7DQogICAgbWFpbldpbmRvdy5jbG9zZSgpOw0KICB9DQogIG1haW5XaW5kb3cub24oImNsb3NlIiwgKGUpID0+IGNsb3NlZXZ0KGUpKTsNCiAgZ2V0UG9pbnRzKCk7DQogIGZ1bmN0aW9uIHJlbmRlclByb2Nlc3NFeGVjdXRpb25zKHByb2Nlc3Nfd2luZG93LCBoYW5kbGVyLCBjYWxsYmFjaykgew0KICAgIHByb2Nlc3Nfd2luZG93LndlYkNvbnRlbnRzLm9uKCJjb25zb2xlLW1lc3NhZ2UiLCBmdW5jdGlvbihyLCBlLCBpKSB7DQogICAgICBpZiAoaS5zcGxpdCgiWyIpWzBdID09ICgiI0VsZWN0cm9uOiIgKyBoYW5kbGVyLnRyaW0oKSArICIgIikpIHsNCiAgICAgICAgY2FsbGJhY2soaS5zcGxpdCgiWyIpWzFdLnNwbGl0KCIiKS5yZXZlcnNlKCkuc3BsaWNlKDEpLnJldmVyc2UoKS5qb2luKCIiKSk7DQogICAgICB9DQogICAgfSk7DQogIH0NCiAgZnVuY3Rpb24gZ2V0UG9pbnRzKCkgew0KICAgIG1haW5XaW5kb3cud2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQoYGNvbnNvbGUubG9nKCIjRWxlY3Ryb246cmV0dXJuX3BvaW50cyBbIiArIGxvY2FsU3RvcmFnZVsiY3VycmVudF9wdHMiXSArICJdIilgKQ0KICAgIHJlbmRlclByb2Nlc3NFeGVjdXRpb25zKG1haW5XaW5kb3csICJyZXR1cm5fcG9pbnRzIiwgKHB0cykgPT4gew0KICAgICAgbm90aWZ5KCJQYXJraW5nIE1hc3RlciAyLjAiLCAiV2VsY29tZSBiYWNrISBZb3UgY3VycmVudGx5IGhhdmUgIiArIHB0cyArICIgYXZhaWxhYmxlIHBvaW50cyIsIG1haW5XaW5kb3cpOw0KICAgIH0pOw0KICB9DQogIHJlbmRlclByb2Nlc3NFeGVjdXRpb25zKG1haW5XaW5kb3csICJkaWFsb2dfYm94IiwgKG1zZykgPT4gew0KICAgIGNvbnN0IGRpYWxvZyA9IG5ldyBCcm93c2VyV2luZG93KHsNCiAgICAgIGZyYW1lOiBmYWxzZSwNCiAgICAgIGhhc1NoYWRvdzogZmFsc2UsDQogICAgICB0aXRsZTogIldhcm5pbmciLA0KICAgICAgdGl0bGVCYXJTdHlsZTogImhpZGRlbiIsDQogICAgICBiYWNrZ3JvdW5kQ29sb3I6ICIjZmZmIiwNCiAgICAgIHdpZHRoOiA0MDAsDQogICAgICBoZWlnaHQ6IDI1MCwNCiAgICAgIGFsd2F5c09uVG9wOiB0cnVlLA0KICAgICAgcGFyZW50OiBtYWluV2luZG93LA0KICAgICAgY2xvc2FibGU6IGZhbHNlLA0KICAgICAgbWluaW1pemFibGU6IGZhbHNlLA0KICAgICAgbWF4aW1pemFibGU6IGZhbHNlLA0KICAgICAgbW92YWJsZTogZmFsc2UsDQogICAgICBzaG93OiBmYWxzZQ0KICAgIH0pOw0KICAgIGRpYWxvZy5sb2FkRmlsZSgiYmxhbmsiKTsNCiAgICBkaWFsb2cud2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQoYGRvY3VtZW50LmJvZHkuc3R5bGUgPSAibWFyZ2luOiAwOyBwYWRkaW5nOiAtMnB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvcmRlcjogMnB4IHNvbGlkICNkZGQ7IHdpZHRoOiA5OSU7IGhlaWdodDogOTguNCU7IjsgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgKz0gXGANCiAgICA8aDEgc3R5bGU9ImZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNkZGQ7Ij5XYXJuaW5nPC9oMT4NCiAgICBcYDtgKTsNCiAgICBkaWFsb2cud2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQoYGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MICs9IFxgDQogICAgPGJyPg0KICAgIDxwIHN0eWxlPSJmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZGRkOyI+JHtkZWNvZGVVUklDb21wb25lbnQobXNnKX08L3A+DQogICAgXGA7YCk7DQogICAgZGlhbG9nLndlYkNvbnRlbnRzLmV4ZWN1dGVKYXZhU2NyaXB0KGBkb2N1bWVudC5ib2R5LmlubmVySFRNTCArPSBcYA0KICAgIDxicj4NCiAgICA8YnV0dG9uIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OjMyLjUlO2JhY2tncm91bmQ6I2RkZDtjb2xvcjojZmZmO2JvcmRlcjpub25lO291dGxpbmU6bm9uZTtwYWRkaW5nOjRweCA1cHg7Ym9yZGVyLXJhZGl1czozcHg7bWFyZ2luOjVweDthbGlnbjpyaWdodDsiIGFsaWduPSJyaWdodCIgb25jbGljaz0id2luZG93LmNsb3NlKCkiPkNhbmNlbDwvYnV0dG9uPg0KICAgIDxidXR0b24gc3R5bGU9ImN1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6MzIuNSU7YmFja2dyb3VuZDojZGRkO2NvbG9yOiNmZmY7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO3BhZGRpbmc6NHB4IDVweDtib3JkZXItcmFkaXVzOjNweDttYXJnaW46NXB4O2FsaWduOnJpZ2h0OyIgYWxpZ249InJpZ2h0IiBvbmNsaWNrPSJjb25zb2xlLmxvZygiI0VsZWN0cm9uOmNsb3NlX2FsbF93aW5kb3dzIFtdIikiPkNvbmZpcm08L2J1dHRvbj4NCiAgICBcYDtgKTsNCiAgICByZW5kZXJQcm9jZXNzRXhlY3V0aW9ucyhkaWFsb2csICJjbG9zZV9hbGxfd2luZG93cyIsICgpID0+IHsNCiAgICAgIGxldCBvcGFjID0gMTsNCiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkgew0KICAgICAgICBpZiAob3BhYyA+IDApIHsNCiAgICAgICAgICBvcGFjICs9IC0uMTsNCiAgICAgICAgICBtYWluV2luZG93LnNldE9wYWNpdHkob3BhYyk7DQogICAgICAgICAgZGlhbG9nLnNldE9wYWNpdHkob3BhYyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgYXBwLnF1aXQoKTsNCiAgICAgICAgICBkaWFsb2cuYmx1cigpOw0KICAgICAgICAgIG1haW5XaW5kb3cuYmx1cigpOw0KICAgICAgICAgIGRpYWxvZy5jbG9zZSgpOw0KICAgICAgICAgIG1haW5XaW5kb3cuY2xvc2UoKTsNCiAgICAgICAgfQ0KICAgICAgfSwgMy41KTsNCiAgICB9KTsNCiAgICBkaWFsb2cuc2hvdygpOw0KICB9KTsNCiAgbWFpbldpbmRvdy53ZWJDb250ZW50cy5leGVjdXRlSmF2YVNjcmlwdCgiIXdpbmRvdy5uYXZpZ2F0b3Iub25MaW5lICYmIGNvbnNvbGUubG9nKCcjRWxlY3Ryb246b2ZmbGluZV9uZXR3b3JrX3JlcG9ydCBbXScpIik7DQogIG1haW5XaW5kb3cubG9hZFVSTCgiaHR0cHM6Ly9wYXJraW5nbWFzdGVyLm1sL2luZGV4Lmh0bWwiKTsNCiAgcmVuZGVyUHJvY2Vzc0V4ZWN1dGlvbnMobWFpbldpbmRvdywgIm9mZmxpbmVfbmV0d29ya19yZXBvcnQiLCAoKSA9PiB7DQogICAgbWFpbldpbmRvdy5sb2FkRmlsZSgiZXJyL29mZmxpbmUvaW5kZXguaHRtbCIpOw0KICB9KTsNCiAgbWFpbldpbmRvdy5zaG93KCk7DQogIHByb2Nlc3Mub24oInVuY2F1Z2h0RXhjZXB0aW9uIiwgKGVycikgPT4ge30pOw0KICByZXF1aXJlKCJjaGlsZF9wcm9jZXNzIikuZXhlYyhgDQogIGlmIFsgLWYgImxvY2FsU3RvcmFnZS5qc29uIl07IHRoZW4NCiAgICBlY2hvICJ0cnVlIg0KICBlbHNlDQogICAgZWNobyAiZmFsc2UiDQogIGZpDQogIGAsIChlcnIsIHJlcykgPT4gew0KICAgIGlmIChyZXMudHJpbSgpID09ICJ0cnVlIikgew0KICAgICAgZnMucmVhZEZpbGUoX19kaXJuYW1lICsgIi9sb2NhbFN0b3JhZ2UuanNvbiIsICJ1dGY4IiwgKGVyciwgZGF0YSkgPT4gew0KICAgICAgICBtYWluV2luZG93LndlYkNvbnRlbnRzLmV4ZWN1dGVKYXZhU2NyaXB0KCJsb2NhbFN0b3JhZ2UgPSAiICsgZGF0YSk7DQogICAgICB9KTsNCiAgICB9DQogIH0pOw0KfQ0KYXBwLm9uKCJyZWFkeSIsIGluaXQpOw"
    }
  }
}
